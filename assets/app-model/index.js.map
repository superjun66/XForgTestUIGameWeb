{"version":3,"sources":["../file:/D:/XForgTestUIGame/assets/app-builtin/app-model/file:/D:/XForgTestUIGame/assets/app-builtin/app-model/config.const.ts","../file:/D:/XForgTestUIGame/assets/app-builtin/app-model/file:/D:/XForgTestUIGame/assets/app-builtin/app-model/store.user.ts"],"names":["Const","AllotIdentityCfg","name","icon","pic","card","des","_RF","pop","User","token","username","_proto","prototype","login","_login","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","app","manager","api","sent","data","stop","apply","arguments"],"mappings":"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","file":"all.js","sourcesContent":["import { IModel } from '../../../extensions/app/assets/base/BaseModel';\r\n// config中不能定义任何方法, 任何变量在外部访问都是readonly\r\n// 如果config中的内容是服务器下发的，可以使用Object.assign覆盖config中的内容\r\nexport default class Const implements IModel<Const> {\r\n    AllotIdentityCfg: {\r\n        //增加类型定义\r\n        [key: number]: {\r\n            name: string;\r\n            icon: string;\r\n            pic: string;\r\n            card: string;\r\n            des: string;\r\n        }\r\n    } = {\r\n            1: {\r\n                name: '村民',\r\n                icon: \"card_villager\",\r\n                pic: \"identityBig/pic_myrole_villager\",\r\n                card: \"identityBig/card_villager\",\r\n                des: \" 【技能】 无特殊能力，主要靠\\n推理分析找出狼人。\"\r\n            },\r\n            2: {\r\n                name: '狼人',\r\n                icon: \"card_wolf\",\r\n                pic: \"identityBig/pic_myrole_wolf\",\r\n                card: \"identityBig/card_wolf\",\r\n                des: \" 【技能】 每晚可以杀死一名玩\\n家。\"\r\n            },\r\n            3: {\r\n                name: '预言家',\r\n                icon: \"card_prophet\",\r\n                pic: \"identityBig/pic_myrole_prophet\",\r\n                card: \"identityBig/card_prophet\",\r\n                des: \" 【技能】 每晚可以查验一名玩\\n家身份，知道他是猎人、狼人\\n还是好人。\"\r\n            },\r\n            4: {\r\n                name: '守卫',\r\n                icon: \"card_guard\",\r\n                pic: \"identityBig/pic_myrole_guard\",\r\n                card: \"identityBig/card_guard\",\r\n                des: \" 【技能】 每晚可以守护一个玩\\n家（可守护自己），当晚被守\\n护的玩家不会被狼人刀死，但\\n是不能连续两晚守护同一个玩\\n家。玩家在当晚被守卫守护又\\n被女巫解救，该玩家依旧判定\\n为死亡。\"\r\n            },\r\n            5: {\r\n                name: '女巫',\r\n                icon: \"card_witch\",\r\n                pic: \"identityBig/pic_myrole_witch\",\r\n                card: \"identityBig/card_witch\",\r\n                des: \" 【技能】 女巫有两瓶药水。一\\n瓶是灵药，可救活夜晚被杀的\\n玩家；另一瓶是毒药，可毒杀\\n一名玩家。同一晚不能使用两\\n瓶药。\"\r\n            },\r\n            6: {\r\n                name: '猎人',\r\n                icon: \"card_hunter\",\r\n                pic: \"identityBig/pic_myrole_hunter\",\r\n                card: \"identityBig/card_hunter\",\r\n                des: \" 【技能】 每个夜晚可以猎杀一\\n位玩家，当猎人死亡时，可以\\n开枪射杀一位玩家（俗称“带\\n走”）。但死于女巫毒药时，不\\n能开枪。\"\r\n            },\r\n            7: {\r\n                name: '爱神',\r\n                icon: \"card_lovegod\",\r\n                pic: \"identityBig/pic_myrole_lovegod\",\r\n                card: \"identityBig/card_cupid\",\r\n                des: \" 【技能】 爱神可以在第一天指\\n定任意两人(包括自己)成为情\\n侣，情侣中有一人死去时，另\\n一人将自动殉情。\\n【胜利方式】如果射中的情侣\\n是人人情侣、狼狼情侣，则爱\\n神获胜方式和好人阵营相同；\\n如果射中的情侣是人狼情侣，\\n则爱神和情侣组成情侣阵营，\\n需要除掉所有其他玩家\"\r\n\r\n            },\r\n            8: {\r\n                name: '白狼王',\r\n                icon: \"card_whitewolf\",\r\n                pic: \"identityBig/pic_myrole_whitewolf\",\r\n                card: \"identityBig/card_silverwolf\",\r\n                des: \" 【技能】 晚上和狼人一起杀死\\n一个玩家，白天发言环节可以\\n选择自爆并带走一位玩家（投\\n票和遗言环节不能自爆）\"\r\n            },\r\n            9: {\r\n                name: '炸弹师',\r\n                icon: \"card_bomb\",\r\n                pic: \"identityBig/pic_myrole_bomb\",\r\n                card: \"identityBig/card_bomb\",\r\n                des: \" 【技能】 炸弹师如果在白天投\\n票阶段被投票出局，所有投票\\n炸弹师的玩家将全部出局，不\\n能发动技能。\"\r\n            },\r\n            10: {\r\n                name: '白痴',\r\n                icon: \"card_idiot\",\r\n                pic: \"identityBig/pic_myrole_idiot\",\r\n                card: \"identityBig/card_idiot\",\r\n                des: \" 【技能】 白痴仅在白天被投票\\n出局可免除死亡，仍视为存活，\\n但从此以后不再拥有投票权。\"\r\n            },\r\n            11: {\r\n                name: '长老',\r\n                icon: \"card_elders\",\r\n                pic: \"identityBig/pic_myrole_elders\",\r\n                card: \"identityBig/card_elders\",\r\n                des: \" 【技能】 无特殊能力，主要靠\\n推理分析找出狼人。\"\r\n            },\r\n            12: {\r\n                name: '企鹅',\r\n                icon: \"card_penguin\",\r\n                pic: \"identityBig/pic_myrole_penguin\",\r\n                card: \"identityBig/card_penguin\",\r\n                des: \" 【技能】 每晚可以杀死一名玩\\n家，当有任意一狼人被企鹅冰\\n冻，狼人当晚不可以杀人\"\r\n            },\r\n            13: {\r\n                name: '熊',\r\n                icon: \"card_bear\",\r\n                pic: \"identityBig/pic_myrole_bear\",\r\n                card: \"identityBig/card_bear\",\r\n                des: \" 【技能】 天亮时，熊的相邻玩\\n家中若有狼人，法官宣布“熊咆\\n哮了”；无狼人，则法官宣布“熊\\n没有咆哮”。若熊死亡或被冰\\n冻，将无法咆哮。(熊相邻玩家\\n如果死亡，则顺延至左右两边\\n存活玩家)\"\r\n            },\r\n            14: {\r\n                name: '绵羊',\r\n                icon: \"card_sheep\",\r\n                pic: \"identityBig/pic_myrole_sheep\",\r\n                card: \"identityBig/card_sheep\",\r\n                des: \" 【技能】 无特殊能力，主要靠\\n推理分析找出狼人。\"\r\n            },\r\n            15: {\r\n                name: '大公鸡',\r\n                icon: \"card_cock\",\r\n                pic: \"identityBig/pic_myrole_cock\",\r\n                card: \"identityBig/card_chick\",\r\n                des: \" 【技能】 大公鸡夜里被狼人杀\\n死，第二天无法叫醒大家，将\\n跳过一个白天，直接进入黑\\n夜。\"\r\n            },\r\n            16: {\r\n                name: '狼美人',\r\n                icon: \"card_wolfbeauty\",\r\n                pic: \"identityBig/pic_myrole_wolfbeauty\",\r\n                card: \"identityBig/card_beautywolf\",\r\n                des: \" 【技能】 狼美人每晚参与杀人\\n后，可单独魅惑一名好人阵营\\n玩家，但不能连续两晚魅惑同\\n一名玩家。狼美人死亡时，当\\n晚被魅惑的玩家随之殉情（狼\\n美人不能自刀）\"\r\n            },\r\n        }\r\n}","import { IStore } from '../../../extensions/app/assets/base/BaseModel';\r\nimport { app } from '../../app/app';\r\n// store中只允许在根路径下定义方法，任何变量在外部访问都是readonly\r\n// store类型的引入是借鉴了Web前端框架中全局状态管理的思路，意图是让数据更安全，更可控。同时框架中还提供了数据绑定的扩展包，可以通过pkg的方式安装，实现「数据->视图」的单向绑定。\r\n\r\nexport default class User implements IStore<User> {\r\n    token = '';\r\n    username = '';\r\n\r\n    async login() {\r\n        const res = await app.manager.api.login();\r\n        this.token = res.data.token;\r\n        this.username = res.data.username;\r\n    }\r\n}"]}