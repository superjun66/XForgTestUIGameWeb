{"version":3,"sources":["../file:/D:/XForgTestUIGame/assets/app-bundle/app-view/page/home/native/file:/D:/XForgTestUIGame/assets/app-bundle/app-view/page/home/native/PageHome.ts"],"names":["ccclass","_decorator","property","PageHome","_dec","_dec2","Sprite","_class","_class2","_BaseView$BindControl","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","miniViews","UIManager","MiniViewName","PaperHomeIndex","_initializerDefineProperty","_descriptor","_assertThisInitialized","_proto","prototype","beforeShow","next","data","showMiniViews","views","onFinish","onShow","_this2","controller","on","HomeController","Event","Refresh1","name","warn","Refresh2","onHide","targetOff","onLoad","self","app","Manager","Util","IsIphoneX","manager","loader","load","bundle","path","type","SpriteFrame","onComplete","asset","console","log","bg","getComponent","spriteFrame","IsIpad","BaseView","BindController","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_RF","pop"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Sprite, SpriteFrame } from 'cc';\r\nimport BaseView from '../../../../../../extensions/app/assets/base/BaseView';\r\nimport UIManager from '../../../../../../extensions/app/assets/manager/ui/UIManager';\r\nimport { IMiniViewNames } from '../../../../../app-builtin/app-admin/executor';\r\nimport { HomeController } from '../../../../../app-builtin/app-controller/HomeController';\r\nimport { app } from 'db://assets/app/app';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PageHome')\r\nexport class PageHome extends BaseView.BindController(HomeController) {\r\n    // 子界面列表，数组顺序为子界面排列顺序\r\n    protected miniViews: IMiniViewNames = [UIManager.MiniViewName.PaperHomeIndex];\r\n\r\n    protected beforeShow(next: (error?: string) => void, data?: any) {\r\n        // 加载子界面\r\n        this.showMiniViews({\r\n            views: [UIManager.MiniViewName.PaperHomeIndex],\r\n            onFinish: next\r\n        });\r\n    }\r\n    @property(Sprite)\r\n    bg: Sprite;\r\n\r\n    // 初始化的相关逻辑写在这\r\n    protected onShow() {\r\n        // 只能通过绑定的controller实例监听事件\r\n        this.controller.on(HomeController.Event.Refresh1, (name) => {\r\n            this.warn(`[Refresh1] 收到${name}调用的刷新事件`);\r\n        }, this);\r\n        this.controller.on(HomeController.Event.Refresh2, (name) => {\r\n            this.warn(`[Refresh2] 收到${name}调用的刷新事件`);\r\n        }, this);\r\n    }\r\n\r\n    protected onHide(): void {\r\n        // 移除监听事件，防止内存泄漏\r\n        this.controller.targetOff(this);\r\n    }\r\n    \r\n    onLoad() {\r\n        let self = this;\r\n        if (app.Manager.Util.IsIphoneX()) {\r\n            app.manager.loader.load({\r\n                bundle: 'page-home-res', // 不传入bundle，默认为resources\r\n                path: 'bg_configure_X/spriteFrame',\r\n                type: SpriteFrame,\r\n                onComplete(asset) {\r\n                    console.log('加载资源完成111', asset);\r\n                    self.bg.getComponent(Sprite).spriteFrame = asset;\r\n                }\r\n            })\r\n        }\r\n        else if (app.Manager.Util.IsIpad()) {\r\n            app.manager.loader.load({\r\n                bundle: 'page-home-res', // 不传入bundle，默认为resources\r\n                path: 'bg_configure_iPad/spriteFrame',\r\n                type: SpriteFrame,\r\n                onComplete(asset) {\r\n                    console.log('加载资源完成222', asset);\r\n                    self.bg.getComponent(Sprite).spriteFrame = asset;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}"]}