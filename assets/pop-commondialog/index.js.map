{"version":3,"sources":["../file:/D:/XForgTestUIGame/assets/app-bundle/app-view/pop/commondialog/native/file:/D:/XForgTestUIGame/assets/app-bundle/app-view/pop/commondialog/native/PopCommondialog.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","Label","_dec3","_dec4","_dec5","_dec6","_dec7","Node","_dec8","_dec9","_descriptor","_applyDecoratedDescriptor","_class2","_BaseView","PopCommondialog","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_okCb","_cancelCb","_inheritsLoose","_proto","prototype","onLoad","onShow","dialogConfig","msg","title","okCb","okText","cancelCb","cancelText","type","this","dialogContent","string","okContent","exitContent","centerSureContent","centerOkNode","active","sureNode","exitNode","app","Manager","Util","IsIpad","find","node","setScale","onHide","result","OnClickSure","cb","hide","OnClickExit","cleanCommonDialog","BaseView","configurable","enumerable","writable","initializer","_class","_RF","pop"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, find, Label, Node } from 'cc';\r\nimport BaseView from '../../../../../../extensions/app/assets/base/BaseView';\r\nimport { app } from 'db://assets/app/app';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PopCommondialog')\r\nexport class PopCommondialog extends BaseView {\r\n    @property(Label)\r\n    okContent: Label = null\r\n    @property(Label)\r\n    exitContent: Label = null\r\n    @property(Label)\r\n    title: Label = null\r\n    @property(Label)\r\n    dialogContent: Label = null\r\n    @property(Label)\r\n    centerSureContent: Label = null\r\n    @property(Node)\r\n    sureNode: Node = null\r\n    @property(Node)\r\n    exitNode: Node = null\r\n    @property(Node)\r\n    centerOkNode: Node = null\r\n\r\n    private _okCb: Function;\r\n    private _cancelCb: Function;\r\n\r\n    // 初始化的相关逻辑写在这\r\n    onLoad() { }\r\n\r\n    // 界面打开时的相关逻辑写在这(onShow可被多次调用-它与onHide不成对)\r\n    onShow(dialogConfig: any) {\r\n        let msg = dialogConfig[\"message\"], title = dialogConfig[\"title\"], okCb = dialogConfig[\"okCb\"],\r\n            okText = dialogConfig[\"okText\"],\r\n            cancelCb = dialogConfig[\"cancelCb\"],\r\n            cancelText = dialogConfig[\"cancelText\"],\r\n            type = dialogConfig[\"dialogType\"] || 1\r\n\r\n        this._okCb = okCb;\r\n        this._cancelCb = cancelCb;\r\n\r\n        this.dialogContent.string = msg;\r\n        this.title.string = title;\r\n        if (type == 1) {\r\n            this.okContent.string = okText;\r\n            this.exitContent.string = cancelText;\r\n        } else if (type == 2) {\r\n            this.centerSureContent.string = okText;\r\n            this.centerOkNode.active = true;\r\n            this.sureNode.active = false;\r\n            this.exitNode.active = false;\r\n        }\r\n        if (app.Manager.Util.IsIpad()) {\r\n            find('effectNode', this.node).setScale(0.7, 0.7)\r\n        }\r\n    }\r\n\r\n    // 界面关闭时的相关逻辑写在这(已经关闭的界面不会触发onHide)\r\n    onHide(result: undefined) {\r\n        // app.manager.ui.show<PopCommondialog>({name: 'PopCommondialog', onHide:(result) => { 接收到return的数据，并且有类型提示 }})\r\n        return result;\r\n    }\r\n\r\n    OnClickSure() {\r\n        let cb = this._okCb;\r\n        if (cb) {\r\n            cb();\r\n        }\r\n        this.hide();\r\n    }\r\n\r\n    OnClickExit() {\r\n        let cb = this._cancelCb;\r\n        if (cb) {\r\n            cb();\r\n        }\r\n        this.cleanCommonDialog();\r\n        this.hide();\r\n    }\r\n\r\n    //将回调函数什么的清除掉，防止缓存\r\n    cleanCommonDialog() {\r\n        this._okCb = null;\r\n        this._cancelCb = null;\r\n    }\r\n\r\n}"]}