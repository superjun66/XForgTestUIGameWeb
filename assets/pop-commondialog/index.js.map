{"version":3,"sources":["../file:/D:/XForgTestUIGame/assets/app-bundle/app-view/pop/commondialog/native/file:/D:/XForgTestUIGame/assets/app-bundle/app-view/pop/commondialog/native/PopCommondialog.ts"],"names":["ccclass","_decorator","property","PopCommondialog","_dec","_dec2","Label","_dec3","_dec4","_dec5","_dec6","_dec7","Node","_dec8","_dec9","_class","_class2","_BaseView","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_okCb","_cancelCb","_proto","prototype","onLoad","onShow","dialogConfig","msg","title","okCb","okText","cancelCb","cancelText","type","dialogContent","string","okContent","exitContent","centerSureContent","centerOkNode","active","sureNode","exitNode","app","Manager","Util","IsIpad","find","node","setScale","onHide","result","OnClickSure","cb","hide","OnClickExit","cleanCommonDialog","BaseView","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_RF","pop"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, find, Label, Node } from 'cc';\r\nimport BaseView from '../../../../../../extensions/app/assets/base/BaseView';\r\nimport { app } from 'db://assets/app/app';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PopCommondialog')\r\nexport class PopCommondialog extends BaseView {\r\n    @property(Label)\r\n    okContent: Label = null\r\n    @property(Label)\r\n    exitContent: Label = null\r\n    @property(Label)\r\n    title: Label = null\r\n    @property(Label)\r\n    dialogContent: Label = null\r\n    @property(Label)\r\n    centerSureContent: Label = null\r\n    @property(Node)\r\n    sureNode: Node = null\r\n    @property(Node)\r\n    exitNode: Node = null\r\n    @property(Node)\r\n    centerOkNode: Node = null\r\n\r\n    private _okCb: Function;\r\n    private _cancelCb: Function;\r\n\r\n    // 初始化的相关逻辑写在这\r\n    onLoad() { }\r\n\r\n    // 界面打开时的相关逻辑写在这(onShow可被多次调用-它与onHide不成对)\r\n    onShow(dialogConfig: any) {\r\n        let msg = dialogConfig[\"message\"], title = dialogConfig[\"title\"], okCb = dialogConfig[\"okCb\"],\r\n            okText = dialogConfig[\"okText\"],\r\n            cancelCb = dialogConfig[\"cancelCb\"],\r\n            cancelText = dialogConfig[\"cancelText\"],\r\n            type = dialogConfig[\"dialogType\"] || 1\r\n\r\n        this._okCb = okCb;\r\n        this._cancelCb = cancelCb;\r\n\r\n        this.dialogContent.string = msg;\r\n        this.title.string = title;\r\n        if (type == 1) {\r\n            this.okContent.string = okText;\r\n            this.exitContent.string = cancelText;\r\n        } else if (type == 2) {\r\n            this.centerSureContent.string = okText;\r\n            this.centerOkNode.active = true;\r\n            this.sureNode.active = false;\r\n            this.exitNode.active = false;\r\n        }\r\n        if (app.Manager.Util.IsIpad()) {\r\n            find('effectNode', this.node).setScale(0.7, 0.7)\r\n        }\r\n    }\r\n\r\n    // 界面关闭时的相关逻辑写在这(已经关闭的界面不会触发onHide)\r\n    onHide(result: undefined) {\r\n        // app.manager.ui.show<PopCommondialog>({name: 'PopCommondialog', onHide:(result) => { 接收到return的数据，并且有类型提示 }})\r\n        return result;\r\n    }\r\n\r\n    OnClickSure() {\r\n        let cb = this._okCb;\r\n        if (cb) {\r\n            cb();\r\n        }\r\n        this.hide();\r\n    }\r\n\r\n    OnClickExit() {\r\n        let cb = this._cancelCb;\r\n        if (cb) {\r\n            cb();\r\n        }\r\n        this.cleanCommonDialog();\r\n        this.hide();\r\n    }\r\n\r\n    //将回调函数什么的清除掉，防止缓存\r\n    cleanCommonDialog() {\r\n        this._okCb = null;\r\n        this._cancelCb = null;\r\n    }\r\n\r\n}"]}