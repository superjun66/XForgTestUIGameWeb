{"version":3,"sources":["../file:/D:/XForgTestUIGame/assets/app-bundle/app-view/page/home/native/file:/D:/XForgTestUIGame/assets/app-bundle/app-view/page/home/native/PageHome.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","Sprite","_class2","_BaseView$BindControl","PageHome","_this","_len","arguments","length","args","Array","_key","call","apply","concat","miniViews","UIManager","MiniViewName","PaperHomeIndex","_initializerDefineProperty","_descriptor","_assertThisInitialized","_inheritsLoose","_proto","prototype","beforeShow","next","data","this","showMiniViews","views","onFinish","onShow","_this2","controller","on","HomeController","Event","Refresh1","name","warn","Refresh2","onHide","targetOff","onLoad","self","app","Manager","Util","IsIphoneX","manager","loader","load","bundle","path","type","SpriteFrame","onComplete","asset","console","log","bg","getComponent","spriteFrame","IsIpad","BaseView","BindController","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_class","_RF","pop"],"mappings":";;olBAMA,IAAQA,EAAsBC,EAAtBD,QAASE,EAAaD,EAAbC,uBAGIC,EADpBH,EAAQ,YAAWI,EAYfF,EAASG,GAAOF,GAAAG,WAAAC,GAAA,SAAAC,IAAA,IAAA,IAAAC,EAAAC,EAAAC,UAAAC,OAAAC,MAAAC,MAAAJ,GAAAK,IAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAT4D,OAS5DN,EAAAF,EAAAS,KAAAC,MAAAV,SAAAW,OAAAL,WATPM,UAA4B,CAACC,EAAUC,aAAaC,gBAAeC,EAAAd,OAAAe,EAAAC,EAAAhB,IAAAA,EAS5DiB,EAAAlB,EAAAD,GAT4D,IAAAoB,EAAAnB,EAAAoB,UAoD5E,OApD4ED,EAEnEE,WAAV,SAAqBC,EAAgCC,GAEjDC,KAAKC,cAAc,CACfC,MAAO,CAACd,EAAUC,aAAaC,gBAC/Ba,SAAUL,KAMlBH,EACUS,OAAV,WAAmB,IAAAC,OAEfL,KAAKM,WAAWC,GAAGC,EAAeC,MAAMC,UAAU,SAACC,GAC/CN,EAAKO,qBAAqBD,eAC3BX,MACHA,KAAKM,WAAWC,GAAGC,EAAeC,MAAMI,UAAU,SAACF,GAC/CN,EAAKO,qBAAqBD,eAC3BX,OACNL,EAESmB,OAAV,WAEId,KAAKM,WAAWS,UAAUf,OAC7BL,EAEDqB,OAAA,WACI,IAAIC,EAAOjB,KACPkB,EAAIC,QAAQC,KAAKC,YACjBH,EAAII,QAAQC,OAAOC,KAAK,CACpBC,OAAQ,gBACRC,KAAM,6BACNC,KAAMC,EACNC,oBAAWC,GACPC,QAAQC,IAAI,YAAaF,GACzBb,EAAKgB,GAAGC,aAAa7D,GAAQ8D,YAAcL,KAI9CZ,EAAIC,QAAQC,KAAKgB,UACtBlB,EAAII,QAAQC,OAAOC,KAAK,CACpBC,OAAQ,gBACRC,KAAM,gCACNC,KAAMC,EACNC,oBAAWC,GACPC,QAAQC,IAAI,YAAaF,GACzBb,EAAKgB,GAAGC,aAAa7D,GAAQ8D,YAAcL,MAI1DtD,GAtDyB6D,EAASC,eAAe9B,IAAehB,EAAA+C,EAAAjE,EAAAsB,gBAAAxB,IAAAoE,gBAAAC,cAAAC,YAAAC,mBAWhDC,EAXgDtE,KAAAsE,MAuDpEC,IAAAC","file":"all.js","sourcesContent":["import { _decorator, Sprite, SpriteFrame } from 'cc';\r\nimport BaseView from '../../../../../../extensions/app/assets/base/BaseView';\r\nimport UIManager from '../../../../../../extensions/app/assets/manager/ui/UIManager';\r\nimport { IMiniViewNames } from '../../../../../app-builtin/app-admin/executor';\r\nimport { HomeController } from '../../../../../app-builtin/app-controller/HomeController';\r\nimport { app } from 'db://assets/app/app';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PageHome')\r\nexport class PageHome extends BaseView.BindController(HomeController) {\r\n    // 子界面列表，数组顺序为子界面排列顺序\r\n    protected miniViews: IMiniViewNames = [UIManager.MiniViewName.PaperHomeIndex];\r\n\r\n    protected beforeShow(next: (error?: string) => void, data?: any) {\r\n        // 加载子界面\r\n        this.showMiniViews({\r\n            views: [UIManager.MiniViewName.PaperHomeIndex],\r\n            onFinish: next\r\n        });\r\n    }\r\n    @property(Sprite)\r\n    bg: Sprite;\r\n\r\n    // 初始化的相关逻辑写在这\r\n    protected onShow() {\r\n        // 只能通过绑定的controller实例监听事件\r\n        this.controller.on(HomeController.Event.Refresh1, (name) => {\r\n            this.warn(`[Refresh1] 收到${name}调用的刷新事件`);\r\n        }, this);\r\n        this.controller.on(HomeController.Event.Refresh2, (name) => {\r\n            this.warn(`[Refresh2] 收到${name}调用的刷新事件`);\r\n        }, this);\r\n    }\r\n\r\n    protected onHide(): void {\r\n        // 移除监听事件，防止内存泄漏\r\n        this.controller.targetOff(this);\r\n    }\r\n    \r\n    onLoad() {\r\n        let self = this;\r\n        if (app.Manager.Util.IsIphoneX()) {\r\n            app.manager.loader.load({\r\n                bundle: 'page-home-res', // 不传入bundle，默认为resources\r\n                path: 'bg_configure_X/spriteFrame',\r\n                type: SpriteFrame,\r\n                onComplete(asset) {\r\n                    console.log('加载资源完成111', asset);\r\n                    self.bg.getComponent(Sprite).spriteFrame = asset;\r\n                }\r\n            })\r\n        }\r\n        else if (app.Manager.Util.IsIpad()) {\r\n            app.manager.loader.load({\r\n                bundle: 'page-home-res', // 不传入bundle，默认为resources\r\n                path: 'bg_configure_iPad/spriteFrame',\r\n                type: SpriteFrame,\r\n                onComplete(asset) {\r\n                    console.log('加载资源完成222', asset);\r\n                    self.bg.getComponent(Sprite).spriteFrame = asset;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}"]}